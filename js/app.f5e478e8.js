(function(t){function e(e){for(var o,l,i=e[0],r=e[1],c=e[2],m=0,u=[];m<i.length;m++)l=i[m],Object.prototype.hasOwnProperty.call(s,l)&&s[l]&&u.push(s[l][0]),s[l]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);d&&d(e);while(u.length)u.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],o=!0,i=1;i<a.length;i++){var r=a[i];0!==s[r]&&(o=!1)}o&&(n.splice(e--,1),t=l(l.s=a[0]))}return t}var o={},s={app:0},n=[];function l(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=t,l.c=o,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)l.d(a,o,function(e){return t[e]}.bind(null,o));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],r=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var d=r;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var o=a("64a9"),s=a.n(o);s.a},"043e":function(t,e,a){"use strict";var o=a("77fd"),s=a.n(o);s.a},"06c8":function(t,e,a){"use strict";var o=a("c095"),s=a.n(o);s.a},"10bc":function(t,e,a){"use strict";var o=a("e39a"),s=a.n(o);s.a},"12e7":function(t,e,a){},"13e3":function(t,e,a){},"15d2":function(t,e,a){"use strict";var o=a("12e7"),s=a.n(o);s.a},"2d7c":function(t,e,a){"use strict";var o=a("496f"),s=a.n(o);s.a},"3ef7":function(t,e,a){"use strict";var o=a("5671"),s=a.n(o);s.a},"45dd":function(t,e,a){},"496f":function(t,e,a){},"4ffb":function(t,e,a){},5671:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("744f"),a("6c7b"),a("7514"),a("20d6"),a("1c4c"),a("6762"),a("cadf"),a("e804"),a("55dd"),a("d04f"),a("c8ce"),a("217b"),a("7f7f"),a("f400"),a("7f25"),a("536b"),a("d9ab"),a("f9ab"),a("32d7"),a("25c9"),a("9f3c"),a("042e"),a("c7c6"),a("f4ff"),a("049f"),a("7872"),a("a69f"),a("0b21"),a("6c1a"),a("c7c62"),a("84b4"),a("c5f6"),a("2e37"),a("fca0"),a("7cdf"),a("ee1d"),a("b1b1"),a("87f3"),a("9278"),a("5df2"),a("04ff"),a("f751"),a("4504"),a("fee7"),a("ffc1"),a("0d6d"),a("9986"),a("8e6e"),a("25db"),a("e4f7"),a("b9a1"),a("64d5"),a("9aea"),a("db97"),a("66c8"),a("57f0"),a("165b"),a("456d"),a("cf6a"),a("fd24"),a("8615"),a("551c"),a("097d"),a("df1b"),a("2397"),a("88ca"),a("ba16"),a("d185"),a("ebde"),a("2d34"),a("f6b3"),a("2251"),a("c698"),a("a19f"),a("9253"),a("9275"),a("3b2b"),a("3846"),a("4917"),a("a481"),a("28a5"),a("386d"),a("6b54"),a("4f7f"),a("8a81"),a("ac4d"),a("8449"),a("9c86"),a("fa83"),a("48c0"),a("a032"),a("aef6"),a("d263"),a("6c37"),a("9ec8"),a("5695"),a("2fdb"),a("d0b0"),a("5df3"),a("b54a"),a("f576"),a("ed50"),a("788d"),a("14b9"),a("f386"),a("f559"),a("1448"),a("673e"),a("242a"),a("c66f"),a("b05c"),a("34ef"),a("6aa2"),a("15ac"),a("af56"),a("b6e4"),a("9c29"),a("63d9"),a("4dda"),a("10ad"),a("c02b"),a("4795"),a("130f"),a("ac6a"),a("96cf"),a("0cdd");var o=a("8c4f"),s=a("2b0e"),n=a("5f5b");a("ab8b"),a("2dd8");s["default"].use(n["a"]);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container",attrs:{id:"app"}},[a("div",{staticClass:"content"},[a("NavbarComponent",t._b({on:{EventLoggedOut:t.EventLoggedOut}},"NavbarComponent",{isAuthenticated:t.isAuthenticated},!1)),a("div",{staticClass:"container"},[a("router-view",{staticClass:"mb-5",on:{EventLoggedIn:t.EventLoggedIn}})],1)],1),a("div",{staticClass:"content-footer"},[a("FooterComponent",t._b({on:{EventLoggedOut:t.EventLoggedOut}},"FooterComponent",{isAuthenticated:t.isAuthenticated},!1))],1)])},i=[],r=a("bc3a"),c=a.n(r);function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var u=function t(){d(this,t),m(this,"isAuthenticated",(function(){return!!localStorage.getItem("userIdentity")})),m(this,"setUserIdentity",(function(t){localStorage.setItem("userIdentity",JSON.stringify(t))})),m(this,"login",(function(t){var e="http://rcpdeploymentesting.1080agile.com/watchportal-api/api/auth/login";return c.a.post(e,t)})),m(this,"register",(function(t){console.log(t);var e="http://rcpdeploymentesting.1080agile.com/watchportal-api/api/auth/register";return c.a.post(e,t)})),m(this,"logout",(function(){localStorage.removeItem("userIdentity")})),m(this,"getToken",(function(){var t=JSON.parse(localStorage.getItem("userIdentity"));return t?t.token:null}))},p=new u,f=p,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return!0===t.isAuthenticated.status?a("div",[a("b-navbar",{staticClass:"mb-5",staticStyle:{"padding-top":"0","padding-bottom":"0"},attrs:{toggleable:"lg"}},[a("b-navbar-brand",{staticClass:"nb-nav-Brand",attrs:{href:"/"}},[t._v("Watch Portal")]),a("b-navbar-toggle",{attrs:{id:"nav-icon",target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",{staticClass:"mr-auto"},[a("b-nav-item",{staticClass:"nav-link-item",attrs:{href:"/"}},[a("span",{staticClass:"span-link"},[t._v("Home")])]),a("b-nav-item",{staticClass:"nav-link-item",attrs:{href:"/sites"}},[a("span",{staticClass:"span-link"},[t._v("Sites")])]),a("b-nav-item",{staticClass:"nav-link-item",attrs:{href:"/companies"}},[a("span",{staticClass:"span-link"},[t._v("Companies")])]),a("b-nav-item",{staticClass:"nav-link-item",attrs:{href:"/devices"}},[a("span",{staticClass:"span-link"},[t._v("Devices")])])],1),a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-nav-item",{staticClass:"nav-link-item"},[a("router-link",{staticClass:"nav-link-logout",staticStyle:{border:"none !important"},attrs:{to:"to"},nativeOn:{click:function(e){return t.handleLogout()}}},[a("small",[a("b",[t._v("Logout")])]),a("font-awesome-icon",{staticStyle:{"margin-left":"10px"},attrs:{icon:"sign-out-alt"}})],1)],1)],1)],1)],1)],1):t._e()},v=[],b={name:"NavbarComponent",props:{isAuthenticated:null},methods:{handleLogout:function(){f.logout(),this.$emit("EventLoggedOut")}}},g=b,C=(a("84f9"),a("2877")),N=Object(C["a"])(g,h,v,!1,null,"04400acc",null),_=N.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return!0===t.isAuthenticated.status?a("div",[t._m(0)]):t._e()},x=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"page-footer"},[a("div",{staticClass:"footer-copyright text-center py-3"},[a("span",{staticClass:"text"},[t._v("© 2020 Security Communication Solutions International")])])])}],A={name:"FooterComponent",props:{isAuthenticated:null},methods:{handleLogout:function(){f.logout(),this.$emit("EventLoggedOut")}}},y=A,S=(a("06c8"),Object(C["a"])(y,w,x,!1,null,"b30efcde",null)),I=S.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-container",[a("h4",[t._v("Watch Portal")])])],1)},M=[],$={name:"HomeComponent"},q=$,E=Object(C["a"])(q,k,M,!1,null,"4b9acdf0",null),P=E.exports,O=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},j=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h4",[t._v("Contact Page")])])}],L={name:"ContactComponent"},D=L,T=Object(C["a"])(D,O,j,!1,null,"39091a7a",null),F=T.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-container",[a("h4",[t._v("About Page")])])],1)},R=[],z={path:"/about",name:"AboutComponent"},V=z,H=Object(C["a"])(V,B,R,!1,null,"05951cde",null),J=H.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"login-form"},[a("form",{on:{submit:function(e){return t.handleSubmit(e)}}},[a("h1",{staticClass:"text-center mb-4"},[t._v("Watch Portal")]),a("hr"),a("h3",{staticClass:"text-center mb-3"},[t._v("Login")]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.username,expression:"model.username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Username",required:""},domProps:{value:t.model.username},on:{input:function(e){e.target.composing||t.$set(t.model,"username",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.password,expression:"model.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:t.model.password},on:{input:function(e){e.target.composing||t.$set(t.model,"password",e.target.value)}}})]),t.showAlert?a("AlertComponent",t._b({},"AlertComponent",t.alertInfo,!1)):t._e(),t._m(0)],1),a("p",{staticClass:"text-center",attrs:{hidden:""}},[a("router-link",{attrs:{to:"/register"}},[t._v("Register")])],1)])])},W=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group mt-4"},[a("button",{staticClass:"btn btn-outline-primary btn-block",attrs:{type:"submit"}},[t._v("Log in")])])}],G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.success?a("div",{staticClass:"alert alert-success text-center"},[a("p",[t._v("Success!")])]):t.error&&t.error.response?a("div",{staticClass:"alert alert-danger text-center"},[a("p",[t._v(t._s(t.error.response.data))])]):t.message&&t.message.length>0?a("div",{staticClass:"alert alert-danger text-center"},[a("p",[t._v(t._s(t.message))])]):a("div",{staticClass:"alert alert-danger text-center"},[a("p",[t._v("Connection error!")])])])},K=[],Q={name:"AlertComponent",props:{success:Boolean,message:String,error:null}},X=Q,Y=Object(C["a"])(X,G,K,!1,null,"43c636ae",null),Z=Y.exports,tt={path:"/login",name:"LoginComponent",components:{AlertComponent:Z},data:function(){return{showAlert:null,alertInfo:null,model:{username:null,password:null}}},methods:{handleSubmit:function(t){if(t.preventDefault(),this.showAlert=!1,null!==this.model.username&&null!==this.model.password){var e=this;f.login(this.model).then((function(t){f.setUserIdentity(t.data),e.$emit("EventLoggedIn")})).catch((function(t){e.showAlert=!0,e.alertInfo={success:!1,error:t}}))}}}},et=tt,at=(a("f508"),Object(C["a"])(et,U,W,!1,null,"fc86ca5a",null)),ot=at.exports,st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"login-form"},[a("form",{on:{submit:function(e){return t.handleSubmit(e)}}},[a("h2",{staticClass:"text-center"},[t._v("Register")]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.firstName,expression:"model.firstName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"First Name",required:""},domProps:{value:t.model.firstName},on:{input:function(e){e.target.composing||t.$set(t.model,"firstName",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.lastName,expression:"model.lastName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Last Name",required:""},domProps:{value:t.model.lastName},on:{input:function(e){e.target.composing||t.$set(t.model,"lastName",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.username,expression:"model.username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Username",required:""},domProps:{value:t.model.username},on:{input:function(e){e.target.composing||t.$set(t.model,"username",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.password,expression:"model.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:t.model.password},on:{input:function(e){e.target.composing||t.$set(t.model,"password",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordConfirmation,expression:"passwordConfirmation"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Confirm Password",required:""},domProps:{value:t.passwordConfirmation},on:{input:function(e){e.target.composing||(t.passwordConfirmation=e.target.value)}}})]),t.showAlert?a("AlertComponent",t._b({},"AlertComponent",t.alertInfo,!1)):t._e(),t._m(0)],1),a("p",{staticClass:"text-center"},[t._v("Already have an account?")]),a("p",{staticClass:"text-center"},[a("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1)])])},nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-dark btn-block",attrs:{type:"submit"}},[t._v("\n          Register\n        ")])])}],lt={path:"/register",name:"RegisterComponent",components:{AlertComponent:Z},data:function(){return{showAlert:null,alertInfo:null,model:{firstName:null,lastName:null,username:null,password:null},passwordConfirmation:null}},methods:{handleSubmit:function(t){if(t.preventDefault(),this.showAlert=!1,null!==this.model.firstName&&null!==this.model.lastName&&null!==this.model.username&&null!==this.model.password&&null!==this.passwordConfirmation){if(this.model.password!==this.passwordConfirmation)return this.showAlert=!0,void(this.alertInfo={success:!1,message:"Password and password confirmation do not match"});var e=this;f.register(this.model).then((function(){e.showAlert=!0,e.alertInfo={success:!0}})).catch((function(t){e.showAlert=!0,e.alertInfo={success:!1,error:t}}))}}}},it=lt,rt=(a("b422"),Object(C["a"])(it,st,nt,!1,null,"137ccb3a",null)),ct=rt.exports,dt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},mt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h4",[t._v("404 Page was not found")])])}],ut={path:"/about",name:"NotFoundComponent"},pt=ut,ft=Object(C["a"])(pt,dt,mt,!1,null,"3138454c",null),ht=ft.exports,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("b-row",{staticClass:"row mb-4"},[a("b-col",{staticClass:"mt-4",attrs:{md:"12"}},[a("h2",{staticClass:"float-left"},[t._v("Contacts")]),t.showAlert?a("AlertComponent",t._b({},"AlertComponent",t.errorResponse,!1)):t._e(),a("span",{staticClass:"float-right"},[a("router-link",{attrs:{to:"/contact/add"}},[a("button",{staticClass:"btn"},[a("span",{staticClass:"mr-2"},[t._v("Add New Contact")]),a("font-awesome-icon",{attrs:{icon:"plus-circle"}})],1)])],1)],1)],1),a("b-row",{staticStyle:{"overflow-x":"auto"}},[a("table",{staticClass:"table table-condensed"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("First Name")]),a("th",{attrs:{scope:"col"}},[t._v("Last Name")]),a("th",{attrs:{scope:"col"}},[t._v("Middle Initial")]),a("th",{attrs:{scope:"col"}},[t._v("Email")]),a("th",{attrs:{scope:"col"}},[t._v("Tel No")]),a("th",{attrs:{scope:"col"}},[t._v("Site")]),a("th")])]),a("tbody",t._l(t.contacts,(function(e){return a("tr",{key:e.contactId},[a("td",[t._v(t._s(e.firstName))]),a("td",[t._v(t._s(e.lastName))]),a("td",[t._v(t._s(e.middleInitial))]),a("td",[t._v(t._s(e.email))]),a("td",[t._v(t._s(e.telNo))]),a("td",[a("span",{staticClass:"float-right"},[a("router-link",{attrs:{to:"/contact/edit/"+e.contactId}},[a("font-awesome-icon",{staticClass:"edit-icons",attrs:{icon:"edit"}})],1),t._v(" | \n              "),a("router-link",{attrs:{to:"/contact/delete/"+e.contactId}},[a("font-awesome-icon",{staticClass:"delete-icons",attrs:{icon:"trash-alt"}})],1)],1)])])})),0)])]),a("router-link",{staticClass:"link",attrs:{to:"/"}},[t._v("Back to Home")])],1)},bt=[];function gt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ct(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var Nt=function t(){var e=this;gt(this,t),Ct(this,"token",f.getToken()),Ct(this,"addContact",(function(t){var a="http://rcpdeploymentesting.1080agile.com/watchportal-api/api/contact";return c.a.post(a,t,{headers:{Authorization:"Bearer ".concat(e.token)}})})),Ct(this,"editContact",(function(t,a){var o="http://rcpdeploymentesting.1080agile.com/watchportal-api/api/contact/"+t;return c.a.put(o,a,{headers:{Authorization:"Bearer ".concat(e.token)}})})),Ct(this,"deleteContact",(function(t){var a="http://rcpdeploymentesting.1080agile.com/watchportal-api/api/contact/"+t;return c.a.delete(a,{headers:{Authorization:"Bearer ".concat(e.token)}})})),Ct(this,"getContact",(function(t){var a="http://rcpdeploymentesting.1080agile.com/watchportal-api/api/contact/"+t;return c.a.get(a,{headers:{Authorization:"Bearer ".concat(e.token)}})})),Ct(this,"getAllContacts",(function(){var t="http://rcpdeploymentesting.1080agile.com/watchportal-api/api/contact";return c.a.get(t,{headers:{Authorization:"Bearer ".concat(e.token)}})}))},_t=new Nt,wt=_t,xt={name:"ListContactsComponent",components:{AlertComponent:Z},data:function(){return{contacts:null,showAlert:null,errorResponse:{error:null}}},created:function(){this.showAlert=!1;var t=this;wt.getAllContacts().then((function(e){t.contacts=e.data,console.log(t.contacts)})).catch((function(e){t.showAlert=!0,t.errorResponse.error=e}))}},At=xt,yt=(a("15d2"),Object(C["a"])(At,vt,bt,!1,null,"7bd6a2d8",null)),St=yt.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("form",{staticClass:"form",on:{submit:function(e){return t.handleSubmit(e,"/contacts")}}},[a("b-row",[a("b-col",{staticClass:"mt-4",attrs:{md:"12"}},[a("div",{staticClass:"header-contact"},[a("h2",[t._v("Add Contact")]),a("hr"),t.showAlert?a("AlertComponent",t._b({},"AlertComponent",t.alertInfo,!1)):t._e()],1)])],1),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("div",{staticClass:"form-group"},[a("label",[t._v("First Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.firstName,expression:"model.firstName"}],staticClass:"form-control",attrs:{type:"text",required:"",maxlength:"50"},domProps:{value:t.model.firstName},on:{input:function(e){e.target.composing||t.$set(t.model,"firstName",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Last Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.lastName,expression:"model.lastName"}],staticClass:"form-control",attrs:{type:"text",required:"",maxlength:"50"},domProps:{value:t.model.lastName},on:{input:function(e){e.target.composing||t.$set(t.model,"lastName",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Middle Initial")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.middleInitial,expression:"model.middleInitial"}],staticClass:"form-control",attrs:{type:"text",required:"",maxlength:"2"},domProps:{value:t.model.middleInitial},on:{input:function(e){e.target.composing||t.$set(t.model,"middleInitial",e.target.value)}}})])]),a("b-col",{attrs:{md:"6"}},[a("div",{staticClass:"form-group"},[a("label",[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.email,expression:"model.email"}],staticClass:"form-control",attrs:{type:"email",required:"",maxlength:"256"},domProps:{value:t.model.email},on:{input:function(e){e.target.composing||t.$set(t.model,"email",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Tel No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.telNo,expression:"model.telNo"}],staticClass:"form-control",attrs:{type:"text",required:"",maxlength:"25"},domProps:{value:t.model.telNo},on:{input:function(e){e.target.composing||t.$set(t.model,"telNo",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Site")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.siteId,expression:"model.siteId"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"siteId",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Select site")]),t._l(t.sites,(function(e){return a("option",{key:e.siteId,domProps:{value:e.siteId}},[t._v(t._s(e.siteName))])}))],2)])])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("div",{staticClass:"form-group float-right"},[a("button",{staticClass:"btn",attrs:{type:"submit"}},[a("span",{staticClass:"mr-3"},[t._v("Submit")]),a("font-awesome-icon",{staticClass:"icons",attrs:{icon:"paper-plane"}})],1)])])],1)],1),a("b-row",[a("p",{staticClass:"ml-3"},[a("router-link",{staticClass:"link",attrs:{to:"/contacts",id:"contact-back-to-list"}},[t._v("Back to List")])],1)])],1)},kt=[];function Mt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $t(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var qt,Et,Pt,Ot,jt,Lt,Dt=function t(){var e=this;Mt(this,t),$t(this,"token",f.getToken()),$t(this,"addSite",(function(t){var a="http://rcpdeploymentesting.1080agile.com/watchportal-api/api/site";return c.a.post(a,t,{headers:{Authorization:"Bearer ".concat(e.token)}})})),$t(this,"editSite",(function(t,a){var o="http://rcpdeploymentesting.1080agile.com/watchportal-api/api/site/"+t;return c.a.put(o,a,{headers:{Authorization:"Bearer ".concat(e.token)}})})),$t(this,"deleteSite",(function(t){var a="http://rcpdeploymentesting.1080agile.com/watchportal-api/api/site/"+t;return c.a.delete(a,{headers:{Authorization:"Bearer ".concat(e.token)}})})),$t(this,"getSite",(function(t){var a="http://rcpdeploymentesting.1080agile.com/watchportal-api/api/site/"+t;return c.a.get(a,{headers:{Authorization:"Bearer ".concat(e.token)}})})),$t(this,"getAllSites",(function(){var t="http://rcpdeploymentesting.1080agile.com/watchportal-api/api/site";return c.a.get(t,{headers:{Authorization:"Bearer ".concat(e.token)}})}))},Tt=new Dt,Ft=Tt,Bt={name:"AddContactComponent",components:{AlertComponent:Z},data:function(){return{showAlert:!1,alertInfo:null,model:{firstName:"",lastName:"",middleInitial:"",email:"",telNo:"",isDeleted:!1,siteId:""},sites:null}},created:function(){var t=this;Ft.getAllSites().then((function(e){t.sites=e.data})).catch((function(e){t.showAlert=!0,t.alertInfo={success:!1,error:e}}))},methods:{handleSubmit:function(t,e){t.preventDefault(),this.showAlert=!1;var a=this;wt.addContact(this.model).then((function(){a.showAlert=!0,a.alertInfo={success:!0},Ve.push({path:e})})).catch((function(t){a.showAlert=!0,a.alertInfo={success:!1,error:t}}))}}},Rt=Bt,zt=(a("b0a5"),Object(C["a"])(Rt,It,kt,!1,null,"700df3a5",null)),Vt=zt.exports,Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"content"},[a("b-row",[a("b-col",{staticClass:"mt-4",attrs:{md:"12"}},[a("h2",{staticClass:"title"},[t._v("Edit Contact")])])],1),t.showAlert?a("AlertComponent",t._b({},"AlertComponent",t.alertInfo,!1)):t._e(),a("hr"),a("form",{on:{submit:function(e){return t.handleSubmit(e)}}},[a("b-row",[a("b-col",{attrs:{md:"6"}},[a("div",{staticClass:"form-group"},[a("label",[t._v("First Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.firstName,expression:"model.firstName"}],staticClass:"form-control",attrs:{type:"text",required:"",maxlength:"50"},domProps:{value:t.model.firstName},on:{input:function(e){e.target.composing||t.$set(t.model,"firstName",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Last Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.lastName,expression:"model.lastName"}],staticClass:"form-control",attrs:{type:"text",required:"",maxlength:"50"},domProps:{value:t.model.lastName},on:{input:function(e){e.target.composing||t.$set(t.model,"lastName",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Middle Initial")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.middleInitial,expression:"model.middleInitial"}],staticClass:"form-control",attrs:{type:"text",required:"",maxlength:"2"},domProps:{value:t.model.middleInitial},on:{input:function(e){e.target.composing||t.$set(t.model,"middleInitial",e.target.value)}}})])]),a("b-col",{attrs:{md:"6"}},[a("div",{staticClass:"form-group"},[a("label",[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.email,expression:"model.email"}],staticClass:"form-control",attrs:{type:"text",required:"",maxlength:"256"},domProps:{value:t.model.email},on:{input:function(e){e.target.composing||t.$set(t.model,"email",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Tel No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.telNo,expression:"model.telNo"}],staticClass:"form-control",attrs:{type:"text",required:"",maxlength:"25"},domProps:{value:t.model.telNo},on:{input:function(e){e.target.composing||t.$set(t.model,"telNo",e.target.value)}}})])])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("p",{staticClass:"float-left"},[a("router-link",{staticClass:"link",attrs:{to:"/sites"}},[t._v("Back to site")])],1),a("div",{staticClass:"form-group float-right"},[a("button",{staticClass:"btn",attrs:{type:"submit"}},[a("span",{staticClass:"mr-3"},[t._v("Submit")]),a("font-awesome-icon",{staticClass:"icons",attrs:{icon:"paper-plane"}})],1)])])],1)],1)],1)},Jt=[],Ut={name:"EditContactComponent",components:{AlertComponent:Z},data:function(){return{showAlert:!1,alertInfo:null,model:{firstName:"",lastName:"",middleInitial:"",email:"",telNo:"",isDeleted:!0,siteId:""},sites:null}},created:function(){var t=this;wt.getContact(this.$route.params.id).then((function(e){t.model=e.data})).catch((function(e){t.showAlert=!0,t.alertInfo={success:!1,error:e}})),Ft.getAllSites().then((function(e){t.sites=e.data})).catch((function(e){t.showAlert=!0,t.alertInfo={success:!1,error:e}}))},methods:{handleSubmit:function(t){t.preventDefault(),this.showAlert=!1;var e=this;wt.editContact(this.$route.params.id,this.model).then((function(){e.showAlert=!0,e.alertInfo={success:!0},Ve.push({path:"/sites"})})).catch((function(t){e.showAlert=!0,e.alertInfo={success:!1,error:t}}))}}},Wt=Ut,Gt=(a("3ef7"),Object(C["a"])(Wt,Ht,Jt,!1,null,"4e929718",null)),Kt=Gt.exports,Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"body-content"},[a("b-row",[a("b-col",{staticClass:"mt-4",attrs:{md:"12"}},[a("form",{on:{submit:function(e){return t.handleSubmit(e)}}},[a("h2",{staticClass:"content"},[t._v("Delete Contact")]),t.showAlert?a("AlertComponent",t._b({},"AlertComponent",t.alertInfo,!1)):t._e(),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("div",{staticClass:"form-group"},[a("label",[t._v("First Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.firstName,expression:"model.firstName"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.model.firstName},on:{input:function(e){e.target.composing||t.$set(t.model,"firstName",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Last Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.lastName,expression:"model.lastName"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.model.lastName},on:{input:function(e){e.target.composing||t.$set(t.model,"lastName",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Middle Initial")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.middleInitial,expression:"model.middleInitial"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.model.middleInitial},on:{input:function(e){e.target.composing||t.$set(t.model,"middleInitial",e.target.value)}}})])]),a("b-col",{attrs:{md:"6"}},[a("div",{staticClass:"form-group"},[a("label",[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.email,expression:"model.email"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.model.email},on:{input:function(e){e.target.composing||t.$set(t.model,"email",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Tel No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.telNo,expression:"model.telNo"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.model.telNo},on:{input:function(e){e.target.composing||t.$set(t.model,"telNo",e.target.value)}}})]),a("div",{staticClass:"form-group",attrs:{hidden:""}},[a("label",[t._v("Site")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.siteId,expression:"model.siteId"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.model.siteId},on:{input:function(e){e.target.composing||t.$set(t.model,"siteId",e.target.value)}}})])])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("p",{staticClass:"float-left"},[a("router-link",{staticClass:"link",attrs:{to:"/sites"}},[t._v("Back to Site")])],1),a("div",{staticClass:"form-group float-right"},[a("button",{staticClass:"btn",attrs:{type:"submit"}},[a("span",{staticClass:"mr-2"},[t._v("Delete")]),a("font-awesome-icon",{staticClass:"icons",attrs:{icon:"trash-alt"}})],1)])])],1)],1)])],1)],1)},Xt=[],Yt={name:"DeleteContactComponent",components:{AlertComponent:Z},data:function(){return{showAlert:!1,alertInfo:null,model:{firstName:"",lastName:"",middleInitial:"",email:"",telNo:"",isDeleted:!0,siteId:""},sites:null}},created:function(){var t=this;wt.getContact(this.$route.params.id).then((function(e){t.model=e.data})).catch((function(e){t.showAlert=!0,t.alertInfo={success:!1,error:e}}))},methods:{handleSubmit:function(t){t.preventDefault(),this.showAlert=!1;var e=this;this.siteId=null,wt.editContact(this.$route.params.id,this.model).then((function(){e.showAlert=!0,e.alertInfo={success:!0},Ve.push({path:"/sites"})})).catch((function(t){e.showAlert=!0,e.alertInfo={success:!1,error:t}}))}}},Zt=Yt,te=(a("6627"),Object(C["a"])(Zt,Qt,Xt,!1,null,"2d649e41",null)),ee=te.exports,ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"content"},[t.showAlert?a("AlertComponent",t._b({},"AlertComponent",t.errorResponse,!1)):t._e(),a("b-row",{staticClass:"row mb-4"},[a("b-col",{staticClass:"mt-4",attrs:{md:"12"}},[a("h2",{staticClass:"float-left title"},[t._v("Sites")]),a("span",{staticClass:"float-right"},[a("button",{staticClass:"btn mr-2 btn-success",on:{click:t.importCsv}},[a("span",{staticClass:"mr-2"},[t._v("Import Csv")]),a("font-awesome-icon",{attrs:{icon:"file-import"}})],1),a("router-link",{attrs:{to:"/site/add"}},[a("button",{staticClass:"btn btn-primary"},[a("span",{staticClass:"mr-2"},[t._v("Add Site")]),a("font-awesome-icon",{attrs:{icon:"plus"}})],1)])],1)])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("table",{staticClass:"table table-striped table-light table-hover"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Site Name")]),a("th",{attrs:{scope:"col"}},[t._v("Address")]),a("th")])]),a("tbody",t._l(t.sites,(function(e){return a("tr",{key:e.siteId},[a("td",[t._v(t._s(e.siteName))]),a("td",[t._v(t._s(e.address))]),a("td",[a("span",{staticClass:"float-right"},[a("router-link",{attrs:{to:"/site/edit/"+e.siteId}},[a("font-awesome-icon",{staticClass:"edit-icons",attrs:{icon:"edit"}})],1),t._v(" | \n              "),a("router-link",{attrs:{to:"/site/delete/"+e.siteId}},[a("font-awesome-icon",{staticClass:"delete-icons",attrs:{icon:"trash-alt"}})],1)],1)])])})),0)])])],1),a("router-link",{staticClass:"link",attrs:{to:"/"}},[t._v("Back to Home")])],1)},oe=[],se={name:"ListSitesComponent",components:{AlertComponent:Z},data:function(){return{sites:null,showAlert:null,errorResponse:{error:null}}},created:function(){this.showAlert=!1;var t=this;Ft.getAllSites().then((function(e){t.sites=e.data,console.log(t.sites)})).catch((function(e){t.showAlert=!0,t.errorResponse.error=e}))},methods:{importCsv:function(){alert("Not yet implemented")}}},ne=se,le=(a("2d7c"),Object(C["a"])(ne,ae,oe,!1,null,"61d97d3c",null)),ie=le.exports,re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"content"},[a("b-row",[a("b-col",{staticClass:"mt-4 mb-3",attrs:{md:"12"}},[a("h2",{staticClass:"float-left title"},[t._v("Add Site")])])],1),t.showAlert?a("AlertComponent",t._b({},"AlertComponent",t.alertInfo,!1)):t._e(),a("form",{on:{submit:function(e){return t.handleSubmit(e)}}},[a("b-row",[a("b-col",{attrs:{md:"6"}},[a("div",{staticClass:"form-group"},[a("label",[t._v("Site Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.siteName,expression:"model.siteName"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.model.siteName},on:{input:function(e){e.target.composing||t.$set(t.model,"siteName",e.target.value)}}})])]),a("b-col",{attrs:{md:"6"}},[a("div",{staticClass:"form-group"},[a("label",[t._v("Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.address,expression:"model.address"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.model.address},on:{input:function(e){e.target.composing||t.$set(t.model,"address",e.target.value)}}})])])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("div",{staticClass:"form-group float-right"},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],staticClass:"float-right",attrs:{variant:"primary"}},[a("span",{staticClass:"mr-2"},[t._v("Add Contact")]),a("font-awesome-icon",{attrs:{icon:"plus"}})],1)],1)])],1),a("b-row",[a("b-col",{staticStyle:{"overflow-x":"auto"},attrs:{md:"12"}},[a("div",{staticClass:"mb-0 pl-3"},[a("table",{staticClass:"table table-striped table-light table-hover mt-4"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("First Name")]),a("th",{attrs:{scope:"col"}},[t._v("Last Name")]),a("th",{attrs:{scope:"col"}},[t._v("Middle Initial")]),a("th",{attrs:{scope:"col"}},[t._v("Email")]),a("th",{attrs:{scope:"col"}},[t._v("Tel No")]),a("th",{attrs:{scope:"col"}})])]),a("tbody",t._l(t.model.contacts,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.firstName))]),a("td",[t._v(t._s(e.lastName))]),a("td",[t._v(t._s(e.middleInitial))]),a("td",[t._v(t._s(e.email))]),a("td",[t._v(t._s(e.telNo))]),a("td",[a("span",{staticClass:"float-right"},[a("font-awesome-icon",{staticClass:"delete-icons",attrs:{icon:"trash-alt"},on:{click:function(a){return t.removeRow(e.key)}}})],1)])])})),0)])])])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("div",{staticClass:"form-group float-right"},[a("button",{staticClass:"btn float-right btn-info",attrs:{type:"submit"}},[a("span",[t._v("Save")]),a("font-awesome-icon",{staticClass:"icons",attrs:{icon:"save"}})],1),a("router-link",{staticClass:"text",attrs:{to:"/sites"}},[a("button",{staticClass:"btn btn-light mr-2",attrs:{type:"button"}},[t._v("\n            Cancel\n          ")])])],1)])],1)],1),a("b-modal",{ref:"modal",staticClass:"modal",attrs:{id:"modal-1",title:"Add Contact","cancel-variant":"default","ok-variant":"default"},on:{ok:t.handleOk,show:t.resetModal,hidden:t.resetModal}},[a("form",{ref:"form",staticClass:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleModalSubmit(e)}}},[a("b-row",[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{state:t.contactModel.firstNameState,label:"First name","label-for":"first-name","invalid-feedback":"First name is required"}},[a("b-form-input",{attrs:{id:"first-name",state:t.contactModel.firstNameState,max:"50",required:""},model:{value:t.contactModel.firstName,callback:function(e){t.$set(t.contactModel,"firstName",e)},expression:"contactModel.firstName"}})],1),a("b-form-group",{attrs:{state:t.contactModel.lastNameState,label:"Last name","label-for":"last-name","invalid-feedback":"Last name is required"}},[a("b-form-input",{attrs:{id:"last-name",state:t.contactModel.lastNameState,max:"50",required:""},model:{value:t.contactModel.lastName,callback:function(e){t.$set(t.contactModel,"lastName",e)},expression:"contactModel.lastName"}})],1),a("b-form-group",{attrs:{state:t.contactModel.middleInitialState,label:"Middle initial","label-for":"middle-initial","invalid-feedback":"Middle initial is required"}},[a("b-form-input",{attrs:{id:"middle-initial",state:t.contactModel.middleInitialState,max:"2",required:""},model:{value:t.contactModel.middleInitial,callback:function(e){t.$set(t.contactModel,"middleInitial",e)},expression:"contactModel.middleInitial"}})],1)],1),a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{state:t.contactModel.emailState,label:"Email","label-for":"email","invalid-feedback":"Email is required or the value is invalid"}},[a("b-form-input",{attrs:{id:"email",state:t.contactModel.emailState,type:"email",max:"256",required:""},model:{value:t.contactModel.email,callback:function(e){t.$set(t.contactModel,"email",e)},expression:"contactModel.email"}})],1),a("b-form-group",{attrs:{state:t.contactModel.telNoState,label:"Tel No","label-for":"tel-no","invalid-feedback":"Tel No is required"}},[a("b-form-input",{attrs:{id:"tel-no",state:t.contactModel.telNoState,max:"25",required:""},model:{value:t.contactModel.telNo,callback:function(e){t.$set(t.contactModel,"telNo",e)},expression:"contactModel.telNo"}})],1)],1)],1)],1)])],1)},ce=[],de={name:"AddSiteComponent",components:{AlertComponent:Z},data:function(){return{showAlert:!1,alertInfo:null,model:{siteName:"",address:"",contacts:[]},contactModel:{firstName:"",firstNameState:null,lastName:"",lastNameState:null,middleInitial:"",middleInitialState:null,email:"",emailState:null,telNo:"",telNoState:null,key:null}}},methods:{handleSubmit:function(t){t.preventDefault(),this.showAlert=!1;var e=this;Ft.addSite(this.model).then((function(){e.showAlert=!0,e.alertInfo={success:!0},Ve.push({path:"/sites"})})).catch((function(t){e.showAlert=!0,e.alertInfo={success:!1,error:t}}))},checkFormValidity:function(){var t=this.$refs.form.checkValidity();return this.contactModel.firstNameState=t,this.contactModel.lastNameState=t,this.contactModel.middleInitialState=t,this.contactModel.emailState=t,this.contactModel.telNoState=t,t},resetModal:function(){this.contactModel.firstName="",this.contactModel.firstNameState=null,this.contactModel.lastName="",this.contactModel.lastNameState=null,this.contactModel.middleInitial="",this.contactModel.middleInitialState=null,this.contactModel.email="",this.contactModel.emailState=null,this.contactModel.telNo="",this.contactModel.telNoState=null},handleOk:function(t){var e=this;t.preventDefault(),this.checkFormValidity()&&(this.model.contacts.push({firstName:this.contactModel.firstName,lastName:this.contactModel.lastName,middleInitial:this.contactModel.middleInitial,email:this.contactModel.email,telNo:this.contactModel.telNo,key:this.uuidv4()}),this.$nextTick((function(){e.$bvModal.hide("modal-1")})))},removeRow:function(t){var e=this.model.contacts.findIndex((function(e){return e.key===t}));this.model.contacts.splice(e,1)},uuidv4:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,a="x"==t?e:3&e|8;return a.toString(16)}))}}},me=de,ue=(a("83d4"),Object(C["a"])(me,re,ce,!1,null,"05bd4e41",null)),pe=ue.exports,fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"content"},[t.showAlert?a("AlertComponent",t._b({},"AlertComponent",t.alertInfo,!1)):t._e(),a("form",{on:{submit:function(e){return t.handleSubmit(e)}}},[a("b-row",[a("b-col",{staticClass:"mt-4",attrs:{md:"12"}},[a("h2",{staticClass:"float-left title"},[t._v("Edit Site")])])],1),a("b-row",[a("b-col",{staticClass:"mt-3",attrs:{md:"6"}},[a("div",{staticClass:"form-group"},[a("label",[t._v("Site Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.siteName,expression:"model.siteName"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.model.siteName},on:{input:function(e){e.target.composing||t.$set(t.model,"siteName",e.target.value)}}})])]),a("b-col",{staticClass:"mt-3",attrs:{md:"6"}},[a("div",{staticClass:"form-group"},[a("label",[t._v("Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.address,expression:"model.address"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.model.address},on:{input:function(e){e.target.composing||t.$set(t.model,"address",e.target.value)}}})])])],1),a("b-row",[a("b-col",{staticClass:"mt-3",staticStyle:{"overflow-x":"auto"},attrs:{md:"12"}},[a("span",{staticClass:"float-right mb-3"},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],staticClass:"float-right",attrs:{variant:"default"}},[a("span",{staticClass:"mr-2"},[t._v("Add Contact")]),a("font-awesome-icon",{attrs:{icon:"plus"}})],1)],1),0===t.model.contacts.length?a("div"):a("div",{staticClass:"mb-0 pl-3"},[a("table",{staticClass:"table table-striped table-light table-hover mt-4"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("First Name")]),a("th",{attrs:{scope:"col"}},[t._v("Last Name")]),a("th",{attrs:{scope:"col"}},[t._v("Middle Initial")]),a("th",{attrs:{scope:"col"}},[t._v("Email")]),a("th",{attrs:{scope:"col"}},[t._v("Tel No")]),a("th",{attrs:{scope:"col"}})])]),a("tbody",t._l(t.model.contacts,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.firstName))]),a("td",[t._v(t._s(e.lastName))]),a("td",[t._v(t._s(e.middleInitial))]),a("td",[t._v(t._s(e.email))]),a("td",[t._v(t._s(e.telNo))]),a("td",[a("span",{staticClass:"float-right"},[a("router-link",{attrs:{to:"/contact/edit/"+e.contactId}},[a("font-awesome-icon",{staticClass:"edit-icons",attrs:{icon:"edit"}})],1),t._v("\n                    | \n                    "),null!=e.key?a("span",[a("font-awesome-icon",{staticClass:"delete-icons",attrs:{icon:"trash-alt"},on:{click:function(a){return t.removeRow(e.key)}}})],1):a("span",[a("router-link",{attrs:{to:"/contact/delete/"+e.contactId}},[a("font-awesome-icon",{staticClass:"delete-icons",attrs:{icon:"trash-alt"}})],1)],1)],1)])])})),0)])])])],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("div",{staticClass:"form-group float-right"},[a("button",{staticClass:"btn float-right",attrs:{type:"submit"}},[a("span",{staticClass:"mr-2"},[t._v("Save")]),a("font-awesome-icon",{staticClass:"icons",attrs:{icon:"save"}})],1),a("router-link",{staticClass:"text",attrs:{to:"/sites"}},[a("button",{staticClass:"btn",attrs:{type:"button"}},[t._v("\n              Cancel\n            ")])])],1)])],1)],1),a("b-modal",{ref:"modal",staticClass:"modal",attrs:{id:"modal-1",title:"New Contact","ok-variant":"default","cancel-variant":"default"},on:{ok:t.handleOk,show:t.resetModal,hidden:t.resetModal}},[a("form",{ref:"form",staticClass:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleModalSubmit(e)}}},[a("b-row",[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{state:t.contactModel.firstNameState,label:"First name","label-for":"first-name","invalid-feedback":"First name is required"}},[a("b-form-input",{attrs:{id:"first-name",state:t.contactModel.firstNameState,max:"50",required:""},model:{value:t.contactModel.firstName,callback:function(e){t.$set(t.contactModel,"firstName",e)},expression:"contactModel.firstName"}})],1),a("b-form-group",{attrs:{state:t.contactModel.lastNameState,label:"Last name","label-for":"last-name","invalid-feedback":"Last name is required"}},[a("b-form-input",{attrs:{id:"last-name",state:t.contactModel.lastNameState,max:"50",required:""},model:{value:t.contactModel.lastName,callback:function(e){t.$set(t.contactModel,"lastName",e)},expression:"contactModel.lastName"}})],1),a("b-form-group",{attrs:{state:t.contactModel.middleInitialState,label:"Middle initial","label-for":"middle-initial","invalid-feedback":"Middle initial is required"}},[a("b-form-input",{attrs:{id:"middle-initial",state:t.contactModel.middleInitialState,max:"2",required:""},model:{value:t.contactModel.middleInitial,callback:function(e){t.$set(t.contactModel,"middleInitial",e)},expression:"contactModel.middleInitial"}})],1)],1),a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{state:t.contactModel.emailState,label:"Email","label-for":"email","invalid-feedback":"Email is required or the value is invalid"}},[a("b-form-input",{attrs:{id:"email",state:t.contactModel.emailState,type:"email",max:"256",required:""},model:{value:t.contactModel.email,callback:function(e){t.$set(t.contactModel,"email",e)},expression:"contactModel.email"}})],1),a("b-form-group",{attrs:{state:t.contactModel.telNoState,label:"Tel No","label-for":"tel-no","invalid-feedback":"Tel No is required"}},[a("b-form-input",{attrs:{id:"tel-no",state:t.contactModel.telNoState,max:"25",required:""},model:{value:t.contactModel.telNo,callback:function(e){t.$set(t.contactModel,"telNo",e)},expression:"contactModel.telNo"}})],1)],1)],1)],1)])],1)},he=[],ve={name:"EditSiteComponent",components:{AlertComponent:Z},data:function(){return{showAlert:!1,alertInfo:null,model:{siteName:"",address:"",contacts:[]},contactModel:{firstName:"",firstNameState:null,lastName:"",lastNameState:null,middleInitial:"",middleInitialState:null,email:"",emailState:null,telNo:"",telNoState:null,key:null}}},created:function(){var t=this;Ft.getSite(this.$route.params.id).then((function(e){t.model=e.data,console.log(t.model)})).catch((function(e){t.showAlert=!0,t.alertInfo={success:!1,error:e}}))},methods:{handleSubmit:function(t){t.preventDefault(),this.showAlert=!1;var e=this;Ft.editSite(this.$route.params.id,this.model).then((function(){e.showAlert=!0,e.alertInfo={success:!0},Ve.push({path:"/sites"})})).catch((function(t){e.showAlert=!0,e.alertInfo={success:!1,error:t}}))},checkFormValidity:function(){var t=this.$refs.form.checkValidity();return this.contactModel.firstNameState=t,this.contactModel.lastNameState=t,this.contactModel.middleInitialState=t,this.contactModel.emailState=t,this.contactModel.telNoState=t,console.log(t),t},resetModal:function(){this.contactModel.firstName="",this.contactModel.firstNameState=null,this.contactModel.lastName="",this.contactModel.lastNameState=null,this.contactModel.middleInitial="",this.contactModel.middleInitialState=null,this.contactModel.email="",this.contactModel.emailState=null,this.contactModel.telNo="",this.contactModel.telNoState=null},handleOk:function(t){var e=this;t.preventDefault(),this.checkFormValidity()&&(this.model.contacts.push({firstName:this.contactModel.firstName,lastName:this.contactModel.lastName,middleInitial:this.contactModel.middleInitial,email:this.contactModel.email,telNo:this.contactModel.telNo,key:this.uuidv4()}),this.$nextTick((function(){e.$bvModal.hide("modal-1")})))},removeRow:function(t){var e=this.model.contacts.findIndex((function(e){return e.key===t}));this.model.contacts.splice(e,1)},uuidv4:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,a="x"==t?e:3&e|8;return a.toString(16)}))}}},be=ve,ge=(a("10bc"),Object(C["a"])(be,fe,he,!1,null,"0ad993fc",null)),Ce=ge.exports,Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("b-row",[a("b-col",{staticClass:"mt-4 content",attrs:{md:"6",offset:"3"}},[a("form",{on:{submit:function(e){return t.handleSubmit(e)}}},[a("h2",{staticClass:"title"},[t._v("Delete Site")]),a("hr"),t.showAlert?a("AlertComponent",t._b({},"AlertComponent",t.alertInfo,!1)):t._e(),a("div",{staticClass:"form-group"},[a("label",[t._v("Site Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.siteName,expression:"model.siteName"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.model.siteName},on:{input:function(e){e.target.composing||t.$set(t.model,"siteName",e.target.value)}}})]),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("p",{staticClass:"float-left"},[a("router-link",{staticClass:"link",attrs:{to:"/sites"}},[t._v("Back to List")])],1),a("div",{staticClass:"form-group float-right"},[a("button",{staticClass:"btn",attrs:{type:"submit"}},[a("span",{staticClass:"mr-2"},[t._v("Delete")]),a("font-awesome-icon",{staticClass:"icons",attrs:{icon:"trash-alt"}})],1)])])],1)],1)])],1)],1)},_e=[],we={name:"DeleteSiteComponent",components:{AlertComponent:Z},data:function(){return{showAlert:!1,alertInfo:null,model:{siteName:"",isDeleted:!0}}},created:function(){var t=this;Ft.getSite(this.$route.params.id).then((function(e){t.model=e.data})).catch((function(e){t.showAlert=!0,t.alertInfo={success:!1,error:e}}))},methods:{handleSubmit:function(t){t.preventDefault(),this.showAlert=!1;var e=this;Ft.deleteSite(this.$route.params.id).then((function(){e.showAlert=!0,e.alertInfo={success:!0},Ve.push({path:"/sites"})})).catch((function(t){e.showAlert=!0,e.alertInfo={success:!1,error:t}}))}}},xe=we,Ae=(a("043e"),Object(C["a"])(xe,Ne,_e,!1,null,"3025fdeb",null)),ye=Ae.exports,Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",[t._v("Companies")])},Ie=[],ke={},Me=ke,$e=Object(C["a"])(Me,Se,Ie,!1,null,"98fc30b2",null),qe=$e.exports,Ee={},Pe=Object(C["a"])(Ee,qt,Et,!1,null,null,null),Oe=Pe.exports,je={},Le=Object(C["a"])(je,Pt,Ot,!1,null,null,null),De=Le.exports,Te={},Fe=Object(C["a"])(Te,jt,Lt,!1,null,null,null),Be=Fe.exports,Re=[{path:"/",component:P,meta:{requiresAuth:!0}},{path:"/contact",component:F,meta:{requiresAuth:!0}},{path:"/about",component:J,meta:{requiresAuth:!0}},{path:"/login",component:ot},{path:"/register",component:ct},{path:"/contacts",component:St,meta:{requiresAuth:!0}},{path:"/contact/add",component:Vt,meta:{requiresAuth:!0}},{path:"/contact/edit/:id",component:Kt,meta:{requiresAuth:!0}},{path:"/contact/delete/:id",component:ee,meta:{requiresAuth:!0}},{path:"/sites",component:ie,meta:{requiresAuth:!0}},{path:"/site/add",component:pe,meta:{requiresAuth:!0}},{path:"/site/edit/:id",component:Ce,meta:{requiresAuth:!0}},{path:"/site/delete/:id",component:ye,meta:{requiresAuth:!0}},{path:"/companies",component:qe,meta:{requiresAuth:!0}},{path:"/company/add",component:Oe,meta:{requiresAuth:!0}},{path:"/company/edit/:id",component:De,meta:{requiresAuth:!0}},{path:"/company/delete/:id",component:Be,meta:{requiresAuth:!0}},{path:"*",component:ht}],ze=new o["a"]({routes:Re,mode:"history"});ze.beforeEach((function(t,e,a){if(t.matched.some((function(t){return t.meta.requiresAuth}))&&!f.isAuthenticated())return a("/login");a()}));var Ve=ze,He={name:"app",data:function(){return{isAuthenticated:{status:!1}}},created:function(){this.isAuthenticated.status=f.isAuthenticated()},methods:{EventLoggedIn:function(){this.isAuthenticated.status=!0,Ve.push({path:"/"})},EventLoggedOut:function(){this.isAuthenticated.status=!1,Ve.push({path:"/login"})}},components:{NavbarComponent:_,FooterComponent:I}},Je=He,Ue=(a("034f"),Object(C["a"])(Je,l,i,!1,null,null,null)),We=Ue.exports,Ge=a("ecee"),Ke=a("c074"),Qe=a("ad3d"),Xe=a("1dce"),Ye=a.n(Xe);Ge["c"].add(Ke["d"],Ke["f"],Ke["a"],Ke["g"],Ke["c"],Ke["e"],Ke["b"]),s["default"].component("font-awesome-icon",Qe["a"]),s["default"].use(Ye.a),s["default"].use(o["a"]),s["default"].config.productionTip=!1,new s["default"]({router:Ve,render:function(t){return t(We)}}).$mount("#app")},"64a9":function(t,e,a){},"65fe":function(t,e,a){},6627:function(t,e,a){"use strict";var o=a("13e3"),s=a.n(o);s.a},"77fd":function(t,e,a){},"83d4":function(t,e,a){"use strict";var o=a("c672"),s=a.n(o);s.a},"84f9":function(t,e,a){"use strict";var o=a("45dd"),s=a.n(o);s.a},b0a5:function(t,e,a){"use strict";var o=a("f860"),s=a.n(o);s.a},b422:function(t,e,a){"use strict";var o=a("4ffb"),s=a.n(o);s.a},c095:function(t,e,a){},c672:function(t,e,a){},e39a:function(t,e,a){},f508:function(t,e,a){"use strict";var o=a("65fe"),s=a.n(o);s.a},f860:function(t,e,a){}});
//# sourceMappingURL=app.f5e478e8.js.map